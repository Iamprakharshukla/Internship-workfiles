{% extends "portal_layout.html" %}

{% block title %}Create Shared Note | UDAAN{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto">
    <div class="flex items-center justify-between mb-8">
        <div>
            <h1 class="text-3xl font-bold text-gray-800">Create Shared Note</h1>
            <p class="text-gray-500 mt-1">Share knowledge with specific teams or staff members.</p>
        </div>
        <a href="{% url 'manager_dashboard' %}" class="text-gray-500 hover:text-gray-800 transition">
            &larr; Back to Dashboard
        </a>
    </div>

    <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-8">
        <form method="post">
            {% csrf_token %}

            <div class="mb-6">
                <label class="block text-sm font-bold text-gray-700 mb-2">Note Title</label>
                {{ form.title }}
            </div>

            <div class="mb-6">
                <label class="block text-sm font-bold text-gray-700 mb-2">Content</label>
                {{ form.content }}
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                <div>
                    <label class="block text-sm font-bold text-gray-700 mb-2">Share with Teams</label>
                    <div class="h-48 overflow-y-auto border rounded-lg p-2 bg-gray-50">
                        {{ form.shared_with_teams }}
                    </div>
                    <p class="text-xs text-gray-500 mt-1">Select teams to grant access.</p>
                </div>

                <div>
                    <label class="block text-sm font-bold text-gray-700 mb-2">Share with Individuals</label>
                    <div class="h-48 overflow-y-auto border rounded-lg p-2 bg-gray-50">
                        {{ form.shared_with_users }}
                    </div>
                    <p class="text-xs text-gray-500 mt-1">Select specific staff members.</p>
                </div>
            </div>

            <div class="flex justify-end pt-6 border-t border-gray-100">
                <button type="submit"
                    class="bg-brand-red text-white px-6 py-2 rounded-lg font-bold hover:bg-red-700 transition shadow-sm">
                    Create & Share Note
                </button>
            </div>
        </form>
    </div>
</div>

<script>
    // Simple styling for checkbox lists (Django outputs unstyled lists)
    document.querySelectorAll('input[type="checkbox"]').forEach(box => {
        box.classList.add('mr-2', 'h-4', 'w-4', 'text-brand-red', 'focus:ring-brand-red', 'border-gray-300', 'rounded');
        box.parentElement.classList.add('flex', 'items-center', 'py-1', 'px-2', 'hover:bg-white', 'rounded');
    });
</script>
{% endblock %}